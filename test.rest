############################################
# REGISTER USERS
############################################

### Register a Donor
POST http://127.0.0.1:8000/api/auth/register/donneur/
Content-Type: application/json

{
  "email": "donor1@example.com",
  "password": "donorpass123",
  "first_name": "John",
  "last_name": "Doe",
  "phone": "1234567890"
}

### Register a Doctor
POST http://127.0.0.1:8000/api/auth/register/doctor/
Content-Type: application/json

{
  "email": "doctor1@example.com",
  "password": "docpass123",
  "first_name": "Alice",
  "last_name": "Smith",
  "phone": "0987654321",
  "specialty": "Cardiology"
}

### Register a Blood Bank
POST http://127.0.0.1:8000/api/auth/register/blood_bank/
Content-Type: application/json

{
  "email": "bank1@example.com",
  "password": "bankpass123",
  "name": "Central Blood Bank",
  "bank_name": "Test Bank",
  "location": "123 Main St",
  "phone": "1122334455"
}

############################################
# LOGIN USERS
############################################

### Login Donor
POST http://127.0.0.1:8000/api/auth/login/
Content-Type: application/json

{
  "email": "donor1@example.com",
  "password": "donorpass123",
  "role": "donor"
}

### Login Doctor
POST http://127.0.0.1:8000/api/auth/login/
Content-Type: application/json

{
  "email": "doctor1@example.com",
  "password": "docpass123",
  "role": "doctor"
}

### Login Blood Bank
POST http://127.0.0.1:8000/api/auth/login/
Content-Type: application/json

{
  "email": "bank1@example.com",
  "password": "bankpass123",
  "role": "bloodbank"
}

############################################
# GET PROFILES (replace {{token}} with access token)
############################################

### Donor Profile
GET http://127.0.0.1:8000/api/donor/1/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzYxOTUzOTczLCJpYXQiOjE3NjE5NTAzNzMsImp0aSI6IjE3NjNmMWNkMjBkMDQ1MWZiN2FjOTk1NzA0NDgyMDgxIiwidXNlcl9pZCI6NX0.sbdNWn9TOlZjtfuT2GYEu8Yo9bm8lal5C6kTSfV7eWc

### Doctor Profile
GET http://127.0.0.1:8000/api/doctor/1/
Authorization: Bearer {{doctor_token}}

### Blood Bank Profile
GET http://127.0.0.1:8000/api/bloodbank/1/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzYxOTM0NTI0LCJpYXQiOjE3NjE5MzA5MjQsImp0aSI6IjM0YTBjZjIwOGFiYzQ4YTZiYzNiYzRlNWYyMmUzNDRlIiwidXNlcl9pZCI6N30.nvguZBqnVQaEP8L71tv2YyNL-7w5f-oXc1nP4PjIFzE

############################################
# DOCTOR REQUESTS (after logging in as doctor)
############################################

### List Doctor Requests
GET http://127.0.0.1:8000/api/doctor/requests/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzYxOTQ4NTA5LCJpYXQiOjE3NjE5NDQ5MDksImp0aSI6IjA0NzVkMWJkMmYzODRiZWM5NzkzODMwOWY2YmRmYmI2IiwidXNlcl9pZCI6Nn0.kT8toT64F0Hn_vQMDysFOBnsguOeuUVJOsuWQ_cYtF4

### Create a Doctor Blood Request
POST http://127.0.0.1:8000/api/doctor/requests/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzYxOTQ4NTA5LCJpYXQiOjE3NjE5NDQ5MDksImp0aSI6IjA0NzVkMWJkMmYzODRiZWM5NzkzODMwOWY2YmRmYmI2IiwidXNlcl9pZCI6Nn0.kT8toT64F0Hn_vQMDysFOBnsguOeuUVJOsuWQ_cYtF4
Content-Type: application/json

{
  "donor": 8,
  "blood_group": "B-",
  "quantity": 2,
  "status": "pending",
  "hospital": "Testhos",
  "urgency": "Urgent"
}

### Blood Bank Get all blood requests
GET http://127.0.0.1:8000/api/bloodbank/requests/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzYxOTQ3OTA0LCJpYXQiOjE3NjE5NDQzMDQsImp0aSI6ImYwMzE1ZTFiYjY0ZjQ5ZmZiOWI4ZDVjYTEyNjc1Mzc3IiwidXNlcl9pZCI6N30.W1YP_4ewjDNVRftZps9ZY17nsKsFExaDhnSEX0I4Eug

###Blood bank Mark request as processed
PATCH http://127.0.0.1:8000/api/bloodbank/requests/3/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzYxOTQ3OTA0LCJpYXQiOjE3NjE5NDQzMDQsImp0aSI6ImYwMzE1ZTFiYjY0ZjQ5ZmZiOWI4ZDVjYTEyNjc1Mzc3IiwidXNlcl9pZCI6N30.W1YP_4ewjDNVRftZps9ZY17nsKsFExaDhnSEX0I4Eug
Content-Type: application/json

{
  "status": "processed"
}

### Blood Bank Get all alerts
GET http://127.0.0.1:8000/api/bloodbank/alerts/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzYxOTgzNDQyLCJpYXQiOjE3NjE5Nzk4NDIsImp0aSI6ImY4ZDc2M2E0M2E3ZTRkNzFiZTY2ZGQzN2U1Njg2YTM4IiwidXNlcl9pZCI6N30.SD0zgPywQCZgu3fvYREhSqGhO4BW0WH1VzVZgHCg01s
### Blood Bank Create new alert
POST http://127.0.0.1:8000/api/bloodbank/alerts/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzYxOTgzNDQyLCJpYXQiOjE3NjE5Nzk4NDIsImp0aSI6ImY4ZDc2M2E0M2E3ZTRkNzFiZTY2ZGQzN2U1Njg2YTM4IiwidXNlcl9pZCI6N30.SD0zgPywQCZgu3fvYREhSqGhO4BW0WH1VzVZgHCg01s
Content-Type: application/json

{
  "blood_group": "A+",
  "radius": 5,
  "duration": 24
}

### Blood Bank Close alert
DELETE http://127.0.0.1:8000/api/bloodbank/alerts/B-/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzYxOTQ4NTA5LCJpYXQiOjE3NjE5NDQ5MDksImp0aSI6IjA0NzVkMWJkMmYzODRiZWM5NzkzODMwOWY2YmRmYmI2IiwidXNlcl9pZCI6Nn0.kT8toT64F0Hn_vQMDysFOBnsguOeuUVJOsuWQ_cYtF4



### 
# Copy the access token from the response for the next requests
# Example: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...

# =============================
# 2️⃣ List all active alerts (Doctor or BloodBank)
# =============================
GET http://127.0.0.1:8000/api/bloodbank/alerts/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzYxOTUyNzYyLCJpYXQiOjE3NjE5NDkxNjIsImp0aSI6IjcwYjk2MDM2ZGI0YTRhOTg5ZTE1Njk4MmY0MDFlM2FhIiwidXNlcl9pZCI6NX0.Y53ILmo6NZXlNe0keRlLH9ilYqB9KN54TjNiQKovjS0

###

# =============================
# 3️⃣ Doctor view a specific alert
# =============================
GET http://127.0.0.1:8000/api/bloodbank/alerts/1/
Authorization: Bearer {{access_token}}

###

# =============================
# 4️⃣ Donor update availability
# =============================
PATCH http://127.0.0.1:8000/api/donor/availability/1/
Authorization: Bearer {{access_token}}
Content-Type: application/json

{
  "is_available": true
}

###

# =============================
# 5️⃣ Donor accept an alert
# =============================
POST http://127.0.0.1:8000/api/donor/alerts/1/accept/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzYxOTg0MDkzLCJpYXQiOjE3NjE5ODA0OTMsImp0aSI6IjBiYWYwNWQzYTEwMTQ2MzRhMzA0NzJjZGI4ODllYmE3IiwidXNlcl9pZCI6NX0.5GTAln_UjL6ZQZPDFN0XtZZUNUw3_uh72kBy8vXdew4
Content-Type: application/json

{
  "donor_id": 1
}

###

# =============================
# 6️⃣ Donor reject an alert
# =============================
POST http://127.0.0.1:8000/api/donor/alerts/1/reject/
Authorization: Bearer {{access_token}}
Content-Type: application/json

{
  "donor_id": 1
}

###

# =============================
# 7️⃣ BloodBank create an alert
# =============================
POST http://127.0.0.1:8000/api/bloodbank/alerts/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzYxOTgzNDQyLCJpYXQiOjE3NjE5Nzk4NDIsImp0aSI6ImY4ZDc2M2E0M2E3ZTRkNzFiZTY2ZGQzN2U1Njg2YTM4IiwidXNlcl9pZCI6N30.SD0zgPywQCZgu3fvYREhSqGhO4BW0WH1VzVZgHCg01s
Content-Type: application/json

{
  "blood_group": "+",
  "radius": 5,
  "duration": 24
}

###

# =============================
# 8️⃣ BloodBank close an alert
# =============================
DELETE http://127.0.0.1:8000/api/bloodbank/alerts/A+/
Authorization: Bearer {{access_token}}

### 1️⃣1️⃣ Donor Responds to Alert
POST http://127.0.0.1:8000/api/donor/alerts/1/accept/
Content-Type: application/json
Authorization: Bearer {{donor_token}}

{
  "donor_id": 1
}


### 1️⃣2️⃣ Blood Bank Checks All Notifications
GET http://127.0.0.1:8000/api/notifications/list
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzYxOTgzNDQyLCJpYXQiOjE3NjE5Nzk4NDIsImp0aSI6ImY4ZDc2M2E0M2E3ZTRkNzFiZTY2ZGQzN2U1Njg2YTM4IiwidXNlcl9pZCI6N30.SD0zgPywQCZgu3fvYREhSqGhO4BW0WH1VzVZgHCg01s


### 1️⃣3️⃣ Mark All Notifications as Read
POST http://127.0.0.1:8000/api/notifications/mark-all-read/
Authorization: Bearer {{bank_token}}


### 1️⃣4️⃣ Delete One Notification
DELETE http://127.0.0.1:8000/api/notifications/1/
Authorization: Bearer {{bank_token}}

